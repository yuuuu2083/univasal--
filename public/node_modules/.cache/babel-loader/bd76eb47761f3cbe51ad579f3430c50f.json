{"ast":null,"code":"var _jsxFileName = \"/Users/moriyu/Desktop/react-junior-high-school/frontend/src/commponents/post/Post.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport \"./Post.css\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Mycontext } from '../../state/AuthContext';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Post(_ref) {\n  _s();\n\n  let {\n    post\n  } = _ref;\n  //投稿内容\n  const REACT_APP_PUBLIC_FOLDER = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState([]);\n  const {\n    user: User\n  } = useContext(Mycontext);\n  useEffect(() => {\n    try {\n      const fetch = async () => {\n        const users = await axios.get(`/user/${post.userId}`);\n        setUser(users.data);\n      };\n\n      fetch();\n    } catch (err) {\n      console.log(err);\n    }\n  }, [post.userId]);\n  console.log(user);\n\n  const handleClickDelete = async e => {\n    e.preventDefault();\n\n    try {\n      await axios.delete(`/post/${post._id}`, {\n        userId: User\n      });\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Link, {\n    className: \"post\",\n    to: `/detail?userId=${post._id}`,\n    style: {\n      textDecoration: \"none\",\n      color: \"black\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"post-image\",\n          src: post.img ? REACT_APP_PUBLIC_FOLDER + post.img : REACT_APP_PUBLIC_FOLDER + \"noAvatar.png\",\n          alt: \"\\u6587\\u5B57\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"post-title\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-time\",\n          children: moment(post.updatedAt).format('YY-MM-DD')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"desc\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"desc-img\",\n            src: REACT_APP_PUBLIC_FOLDER + user.profilePicture,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"desc-text\",\n            children: post.desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delete\",\n          onClick: handleClickDelete,\n          style: {\n            textDecoration: \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 102\n          }, this), \"\\u524A\\u9664\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"PdfEpf70afFqAvGBq742wZJPy68=\");\n\n_c = Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useContext","useEffect","useState","moment","Link","axios","Mycontext","DeleteOutlineIcon","Post","post","REACT_APP_PUBLIC_FOLDER","process","env","user","setUser","User","fetch","users","get","userId","data","err","console","log","handleClickDelete","e","preventDefault","delete","_id","window","location","reload","textDecoration","color","img","title","updatedAt","format","profilePicture","desc"],"sources":["/Users/moriyu/Desktop/react-junior-high-school/frontend/src/commponents/post/Post.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport \"./Post.css\";\nimport moment from \"moment\";\nimport {Link} from \"react-router-dom\";\nimport axios from 'axios';\nimport { Mycontext } from '../../state/AuthContext';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\n\nexport default function Post({ post }) {//投稿内容\n    const REACT_APP_PUBLIC_FOLDER = process.env.REACT_APP_PUBLIC_FOLDER;\n    const [user, setUser ] = useState([]);\n    const {user: User} = useContext(Mycontext);\n    useEffect(() => {\n        try {\n            const fetch = async () => {\n                const users = await axios.get(`/user/${post.userId}`);\n                setUser(users.data);\n            }\n            fetch();\n        } catch (err) {\n            console.log(err);\n        }\n    },[post.userId]);\n    console.log(user)\n\n    const handleClickDelete = async (e) => {\n        e.preventDefault();\n        try {\n            await axios.delete(`/post/${post._id}`, { userId: User })\n            window.location.reload();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n\n\n    return (\n        <Link  className=\"post\" to={`/detail?userId=${post._id}`} style={{textDecoration: \"none\", color: \"black\"}}>\n        <div className=\"post\">\n            <div className=\"post-box\">\n                <img\n                    className=\"post-image\"\n                    src={\n                        post.img ? REACT_APP_PUBLIC_FOLDER + post.img : REACT_APP_PUBLIC_FOLDER + \"noAvatar.png\"}\n                        alt=\"文字\"\n                />\n                <h2 className=\"post-title\">{post.title}</h2>\n                <div className=\"post-time\">{moment(post.updatedAt).format('YY-MM-DD')}</div>\n                <div className=\"desc\">\n                    <img className=\"desc-img\" src={REACT_APP_PUBLIC_FOLDER + user.profilePicture} alt=\"\"/>\n                    <div className=\"desc-text\">{post.desc}</div>\n                </div>\n                <div className=\"delete\" onClick={handleClickDelete} style={{textDecoration: \"none\"}}><DeleteOutlineIcon />削除</div>\n            </div>\n        </div>\n     </Link>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}